<head>

</head>
<body>
  <button>Click</button>
  <script>
    // let counter = 0;

    // document.querySelector('button').addEventListener('click', () => {
    //   ++counter;
    // });

    // setTimeout(() => {
    //   counter > 5 ? alert(`You won: ${counter}`) : alert('You Lost');
    // }, 2000)

    /**
    *
    *  Refactored
    *
    * **/

    function startGame () {
      let counter = 0;

      document.querySelector('button').addEventListener('click', () => {
        ++counter;
      });

      return new Promise((resolve, reject) => {
        setTimeout(() => {
          if (counter > 5) {
            resolve(counter)
          } else {
            reject();
          }
        }, 2000)
      })

    }

    startGame()
      .then((counter) => {
        alert(`You win! ${counter}`)
      })
      .catch((err) => {
        alert(`You Lost! ${err}`);
      })
  </script>
</body>